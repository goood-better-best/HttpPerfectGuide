# 2장 URL과 리소스

### URL

- URL(Uniform Resource Locator) : 통합 자원 식별자
- 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리키며, URL을 이용해 사람과 애플리케이션이 인터넷상의 수십억 개의 리소스를 찾고 사용하며 공유할 수 있음.
- URN : 현재 그 리소스가 어디에 존재하든 상관없이 그 이름만으로 리소스를 식별하는 데 비해 URL은 리소스가 어디 있는지 설명해서 리소스를 식별함.

### URL 문법

<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프레그먼트>

- 스킴
    - 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보.
    - URL을 해석하는 애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야 하는지 알려줌.
- 호스트와 포트
    - 포트 컴포넌트는 서버가 열어놓은 네트워크 포트를 가리키며, 내부적으로 TCP프로토콜을 사용하는 HTTP는 기본 포트를 80을 사용함.
- 사용자 이름과 비밀번호

    ```
    ex) 사용자 이름이나 비밀번호 컴포넌트가 없이 표준 스킴, 호스트,경로만 있는 경우
    ftp://ftp.prep.ai.mit.edu/pub/gnu

    ex) 사용자 이름만 있는 경우
    ftp://anonymous@ftp://ftp.prep.ai.mit.edu/pub/gnu

    ex) 사용자 이름과 비밀번호를 : 문자로 분리하리하여 기술한 경우
    ftp://anonymous:my_passwd@ftp://ftp.prep.ai.mit.edu/pub/gnu
    ```

- 경로 : 리소스가 서버의 어디에 있는지 알려주며, 해당 경로는 아래와 같이 계층적 파일 시스템 경로와 유사한 구조를 가짐.
- 파라미터
    - 애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용함.

    ```
    ex) 이름이 type, 값이 d인 type=d라는 단 한 개의 파라미터 전달
    ftp://ftp.prep.ai.mit.edu/pub/gnu;type=d

    ex) hammers는 sale=false, grapthic는 true로 두 개의 파라미터 전달
    http://www.joes-hardware.com/hammers;sale=false/index.html;graphics=true
    ```

- 질의 문자열 : 게이트웨이를 가리키는 URL의 경로 컴포넌트와 함께 전달되며, 보통 게이트웨이는 다른 애플리케이션에 접근하려고 할 때 거치는 통로라고 할 수 있음.
- 프래그먼트
    - 리소스의 특정 부분을 가리킬 수 있도록, URL은 리소스 내의 조각을 가리킬 수 있는 프래그먼트 컴포넌트를 제공함.
    - 프래그먼트는 URL의 오른쪽에 #문자에 이어서 옴.

        ex) http://www.joes-hardware.com/tools.html#drills
  
- 상대 URL
    - 상대 URL로 리소스에 접근하는데 필요한 모든 정보를 얻기 위해서는 기저(base)라고 하는 다른 URL을 사용해야 함.
    - 상대 URL은 URL을 짧게 표시하는 방식으로, URL에 스킴과 호스트, 다른 컴포넌트들을 모두 입력하지 않아도 되고, 그 정보는 컴포넌트가 포함된 리소스의 기저 URL에서 알아낼 수 있음.
- 기저 URL : 변환 과정의 첫 단계는 기저 URL을 찾는 것으로, 기저 URL은 상대 URL의 기준이 됨.
- URL 확장
    - 호스트 명 확장
        - 입력한 호스트명을 전체 호스트 명으로 확장할 수 있음.
        - 사용자의 시간을 절약하고 혼란을 막아주지만 호스트 명에 대한 확장 기능은 프락시와 같은 다른 HTTP 애플리케이션에 문제를 발생시킬 수도 있음.
    - 히스토리 확장
        - 과거에 사용자가 방문했던 URL의 기록을 저장해 놓는 것으로, URL을 입력하면 그 입력된 URL의 앞 글자들을 포함하는 완결된 형태의 URL들을 선택하게 해줌.

### 안전하지 않은 문자

- 인코딩 인코딩은 안전하지 않은 문자를 퍼센티지 기호로 시작해 ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 이스케이프 문자로 바꿈.

    ```
    ex) 문자 : -       아스키코드 : 126 (0x7E)    http://www.joes-hardware.com/%7Ejoe
    ex) 문자 : 빈문자   아스키코드 : 32 (0x20)    http://www.joes-hardware.com/more%20tools.html
    ex) 문자 : %       아스키코드 : 37 (0x25)    http://www.joes-hardware.com/100%25satisfaction.html
    ```

- 어떤 애플리케이션에 어떤 URL을 보내든지, 그 전에 클라이언트 애플리케이션에서 안전하지 않거나 제한된 문자를 변환하는 것이 좋음.