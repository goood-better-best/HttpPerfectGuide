- HTTP는 익명으로 상태가 없고, 요청과 응답으로 통신하는 프로토콜.
- 세션 추적
    - HTTP 트랜잭션은 상태가 없기 때문에 각 요청 및 응답은 독립적으로 일어남.
    - 이렇게 상태를 유지하려면, 웹 사이트는 각 사용자에게서 오는 HTTP 트랜잭션을 식별할 방법이 필요함.

### 사용자에 대한 정보를 전달하는 HTTP 헤더
- From 헤더
    - 사용자의 이메일 주소를 포함하지만, 악의적인 목적으로 사용자들의 이메일 주소를 모아 스팸메일 발송 등의 문제가 있어서 From 헤더를 보내는 브라우저는 많지 않음.
- User-Agent 헤더
    - 사용자가 쓰고있는 브라우저의 이름과 버전 정보, 어떤 경우에는 운영체제에 대한 정보를 포함하여 서버에게 알려줌.
    - 보통 특정 브라우저에서 제대로 동작할 수 있도록 콘텐츠를 최적하하는데 유용하지만, 사용자 식별에는 도움이 되지 않음.
- Refere 헤더
    - 사용자가 현재 페이지로 유입하게 한 웹페이지의 URL을 가리킴.
    - Refere 헤더 자체만으로 사용자를 식별할 수 없지만, 사용자가 이전에 어떤 페이지를 방문했는지 알려줌.

### 뚱뚱한 URL

- 보통, URL은 URL 경로의 처음이나 끝에 어떤 상태 정보를 추가해 확장함.
- 웹 서버와 통신하는 독립적인 HTTP 트랜잭션을 하나의 '세션' 혹은 '방문'으로 묶는 용도로 뚱뚱한 URL을 사용할 수 있음.
- 사용자가 웹 사이트에 처음 접속하면 유일한 ID가 생성되고, 그 값은 서버가 인식할 수 있는 방법으로 URL에 추가되며, 서버는 클라이언트를 이 뚱뚱한 URL로 리다이렉트 시킴.
- 뚱뚱한 URL은 사이트를 브라우징하는 사용자를 식별할 수 있지만, 다음과 같은 여러가지 문제가 있음.
    - 공유하지 못하는 URL
    - URL로 만드는 것은, URL이 달라지기 때문에 기존 캐시에 접근할 수 없음.
    - 서버 부하 가중
    - 이탈
    - 세션 간 지속성의 부재
        
        

### 쿠키

- 쿠키는 사용자를 식별하고 세션을 유지하는 방식 중에서 현재까지 가장 널리 사용하는 방식.
- 쿠키의 타입
    - 쿠키는 크게 세션 쿠키(session cookie)와 지속 쿠키(persistent cookie) 두 가지 타입으로 나눌 수 있음.
    - 세션 쿠키 : 사용자가 사이트를 탐색할 때, 관련한 설정과 선호 사항들을 저장하는 임시 쿠키.
        - 사용자가 브라우저를 닫으면 삭제됨.
    - 지속 쿠키 : 삭제되지 않고 더 길게 유지될 수 있으며, 디스크에 저장되어, 브라우저를 닫거나 컴퓨터를 재시작해도 남아있음.
        - 지속 쿠키는 사용자가 주기적으로 방문하는 사이트에 대한 설정 정보나 로그인 이름을 유지하려고 사용함.
- 처음에 사용자가 웹 사이트에 방문하면 웹 서버는 사용자에 대해 아무것도 모르지만, 웹 서버는 사용자가 다시 돌아왔을 때, 해당 사용자를 식별하기 위한 유일한 값을 쿠키에 할당함.
- 쿠키는 '임의의 이름=값' 형태의 리스트를 가지고, 그 리스트는 Set-Cookie 혹은 Set-Cookie2(확장 헤더) 같은 HTTP 응답 헤더에 기술되어 전달한다.
- 캐시되지 말아야 할 문서가 있다면 명시적으로 Cache-Control: no-cache="Set-Cookie"를 기술해서 명확히 표시함.
